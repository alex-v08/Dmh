# Digital Money House 

## Descripci贸n del Proyecto

Digital Money House es una plataforma financiera digital desarrollada como parte del proyecto integrador. El sistema implementa una arquitectura de microservicios robusta utilizando Spring Boot y tecnolog铆as modernas de la nube, permitiendo a los usuarios gestionar sus finanzas de manera segura y eficiente.

## Repositorio

```bash
https://gitlab.com/atuhome/digital-money-house
```

## Arquitectura del Sistema 

El proyecto implementa una arquitectura de microservicios que consta de los siguientes componentes:

### Servicios de Infraestructura

- **Config Server**: Centraliza la gesti贸n de configuraciones para todos los microservicios
- **Eureka Server**: Proporciona registro y descubrimiento de servicios
- **API Gateway**: Act煤a como punto de entrada 煤nico y maneja el enrutamiento de solicitudes

### Servicios de Negocio

- **Auth Service**: Gestiona la autenticaci贸n y autorizaci贸n utilizando Keycloak
- **User Service**: Administra la informaci贸n y operaciones de usuarios
- **Account Service**: Maneja las cuentas y sus operaciones asociadas
- **Card Service**: Gestiona las tarjetas de d茅bito y cr茅dito
- **Transaction Service**: Procesa todas las transacciones financieras

## Tecnolog铆as Utilizadas 

- **Java 17**: Lenguaje de programaci贸n principal
- **Spring Boot 3.x**: Framework de desarrollo
- **Spring Cloud**: Para arquitectura de microservicios
- **Keycloak**: Servidor de autenticaci贸n y autorizaci贸n
- **Docker**: Contenedorizaci贸n de servicios
- **PostgreSQL/MySQL**: Bases de datos
- **Maven**: Gesti贸n de dependencias y construcci贸n
- **Swagger/OpenAPI**: Documentaci贸n de APIs

## Configuraci贸n del Entorno de Desarrollo

### Prerrequisitos

- Java JDK 17
- Maven 3.6.3 o superior
- Docker y Docker Compose
- Git
- IDE (recomendado IntelliJ IDEA)

### Clonar el Repositorio

```bash
git clone https://gitlab.com/atuhome/digital-money-house.git
cd digital-money-house
```

### Configuraci贸n de Base de Datos

El proyecto utiliza m煤ltiples bases de datos para diferentes servicios:

```yaml
# Para User Service
mysql_user_service:
  container_name: mysql_user_service
  image: mysql:latest
  ports:
    - "3307:3306"

# Para Account Service
mysql_account_service:
  container_name: mysql_account_service
  ports:
    - "3308:3306"

# Para Keycloak
postgres_keycloak:
  container_name: postgres_keycloak
  ports:
    - "5433:5432"
```

### Iniciar los Servicios

1. Iniciar servicios de infraestructura:
```bash
docker-compose up -d
```

2. Verificar que Keycloak est茅 funcionando:
```bash
http://localhost:9092
```

3. Iniciar los servicios en el siguiente orden:
   - Eureka Server (Puerto 8761)
   - Config Server (Puerto 8888)
   - API Gateway (Puerto 8080)
   - Servicios de negocio

## Estructura de Puertos

- Eureka Server: 8761
- Config Server: 8888
- API Gateway: 8080
- Auth Service: 8083
- User Service: 8081
- Account Service: 8082
- Card Service: 8085
- Transaction Service: 8097

## Documentaci贸n de APIs 

Cada servicio cuenta con su propia documentaci贸n Swagger accesible en:

```
http://localhost:{puerto}/swagger-ui.html
```

Por ejemplo:
- Gateway: http://localhost:8080/swagger-ui.html
- User Service: http://localhost:8081/swagger-ui.html
- Account Service: http://localhost:8082/swagger-ui.html

## Seguridad 

El proyecto utiliza OAuth2 con Keycloak para la autenticaci贸n y autorizaci贸n:

- **Realm**: dmh
- **Client ID**: gateway-client
- **Grant Types**: Authorization Code, Client Credentials
- **Roles**: USER, ADMIN

## Monitoreo y Actuator 

Todos los servicios exponen endpoints de Spring Boot Actuator para monitoreo:

```
http://localhost:{puerto}/actuator
```

Endpoints disponibles:
- /health: Estado del servicio
- /metrics: M茅tricas del servicio
- /info: Informaci贸n del servicio

## Manejo de Errores y Circuit Breaker

El proyecto implementa el patr贸n Circuit Breaker utilizando Resilience4j para manejar fallos en las comunicaciones entre servicios:

```java
resilience4j:
  circuitbreaker:
    instances:
      userService:
        slidingWindowSize: 10
        failureRateThreshold: 50
        waitDurationInOpenState: 10000ms
```

## Contribuci贸n al Proyecto 

1. Crear un fork del repositorio
2. Crear una rama para tu feature
```bash
git checkout -b feature/nueva-funcionalidad
```
3. Realizar cambios y commits
```bash
git commit -m "Descripci贸n detallada de los cambios"
```
4. Push a la rama
```bash
git push origin feature/nueva-funcionalidad
```
5. Crear un Merge Request

## Convenciones de C贸digo

- Usar camelCase para nombres de variables y m茅todos
- Usar PascalCase para nombres de clases
- Documentar m茅todos p煤blicos con Javadoc
- Seguir principios SOLID
- Escribir pruebas unitarias para nueva funcionalidad

## Contacto y Soporte 

Para consultas o reportes de problemas:
- Crear un Issue en GitLab
- Contactar al equipo: support@digitalmoney.house

## Estado del Proyecto 

El proyecto se encuentra en desarrollo activo, con actualizaciones y mejoras continuas. Se recomienda mantener actualizada la rama principal y revisar regularmente la documentaci贸n en GitLab para conocer los 煤ltimos cambios.